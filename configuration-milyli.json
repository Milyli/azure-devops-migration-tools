{
  "ChangeSetMappingFile": null,
  "Source": {
    "$type": "TfsTeamProjectConfig",
    "Collection": "https://tfs.milyli.net/tfs/DefaultCollection/",
    "Project": "MilyliProducts",
    "ReflectedWorkItemIDFieldName": "Migration.ReflectedWorkItemId",
    "AllowCrossProjectLinking": false,
    "AuthenticationMode": "Prompt",
    "PersonalAccessToken": "",
    "LanguageMaps": {
      "AreaPath": "Area",
      "IterationPath": "Iteration"
    }
  },
  "Target": {
    "$type": "TfsTeamProjectConfig",
    "Collection": "https://dev.azure.com/Milyli/",
    "Project": "Blackout for Relativity",
    "ReflectedWorkItemIDFieldName": "ReflectedWorkItemId",
    "AllowCrossProjectLinking": false,
    "AuthenticationMode": "Prompt",
    "PersonalAccessToken": "",
    "LanguageMaps": {
      "AreaPath": "Area",
      "IterationPath": "Iteration"
    }
  },
  "FieldMaps": [
    {
      "$type": "MultiValueConditionalMapConfig",
      "WorkItemTypeName": "*",
      "sourceFieldsAndValues": {
        "Field1": "Value1",
        "Field2": "Value2"
      },
      "targetFieldsAndValues": {
        "Field1": "Value1",
        "Field2": "Value2"
      }
    },
    {
      "$type": "FieldBlankMapConfig",
      "WorkItemTypeName": "*",
      "targetField": "ReflectedWorkItemId"
    },
    {
      "$type": "FieldValueMapConfig",
      "WorkItemTypeName": "*",
      "sourceField": "System.State",
      "targetField": "System.State",
      "defaultValue": "New",
      "valueMapping": {
		"Active": "Active",
        "Approved": "Approved",
        "New": "New",
        "Committed": "Comitted",
        "In Progress": "In Progress",
        "To Do": "To Do",
        "Done": "Done",
		"Resolved": "Resolved",
		"Design": "Design",
        "Removed": "Removed",
		"Closed": "Closed"
      }
    },
    {
      "$type": "FieldtoFieldMapConfig",
      "WorkItemTypeName": "*",
      "sourceField": "Microsoft.VSTS.Common.BacklogPriority",
      "targetField": "Microsoft.VSTS.Common.StackRank",
      "defaultValue": null
    },
    {
      "$type": "FieldtoFieldMultiMapConfig",
      "WorkItemTypeName": "*",
      "SourceToTargetMappings": {
        "SourceField1": "TargetField1",
        "SourceField2": "TargetField2"
      }
    },
 //   {
 //     "$type": "FieldtoTagMapConfig",
 //     "WorkItemTypeName": "*",
 //     "sourceField": "System.State",
 //     "formatExpression": "ScrumState:{0}"
 //   },
    {
      "$type": "FieldMergeMapConfig",
      "WorkItemTypeName": "*",
      "sourceField1": "System.Description",
      "sourceField2": "Microsoft.VSTS.Common.AcceptanceCriteria",
      "targetField": "System.Description",
      "formatExpression": "{0} <br/><br/><h3>Acceptance Criteria<\/h3>{1}",
      "doneMatch": "##DONE##"
    },
    {
      "$type": "RegexFieldMapConfig",
      "WorkItemTypeName": "*",
      "sourceField": "COMPANY.PRODUCT.Release",
      "targetField": "COMPANY.DEVISION.MinorReleaseVersion",
      "pattern": "PRODUCT \\d{4}.(\\d{1})",
      "replacement": "$1"
    },
    {
      "$type": "FieldValuetoTagMapConfig",
      "WorkItemTypeName": "*",
      "sourceField": "Microsoft.VSTS.CMMI.Blocked",
      "pattern": "Yes",
      "formatExpression": "{0}"
    },
    {
      "$type": "TreeToTagMapConfig",
      "WorkItemTypeName": "*",
      "toSkip": 3,
      "timeTravel": 1
    }
  ],
  "GitRepoMapping": null,
  "LogLevel": "Debug",
  "Processors": [
    {
      "$type": "WorkItemMigrationConfig",
      "Enabled": true,
      "ReplayRevisions": true,
      "PrefixProjectToNodes": false,
      "UpdateCreatedDate": true,
      "UpdateCreatedBy": true,
      "BuildFieldTable": false,
      "AppendMigrationToolSignatureFooter": false,

	  
	  "__WIQLQueryBitExample1__": "Original query example",		
      "__WIQLQueryBit1__": "AND  [Microsoft.VSTS.Common.ClosedDate] = '' AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan')",
	  
      "__WIQLQueryBitExample2__": "The following line was used during testing to quickly recreate only test cases to test the test plan / test suite migrator.",
      "__WIQLQueryBit2__": "AND  [Microsoft.VSTS.Common.ClosedDate] = '' AND [System.Id] > '999999999'",
	  
	  "__QueryDescription__": "UNDER is the operator for filtering hierarchies Area and Iteration. The remaining WITs cannot be migrated as WITs. Test Plans and Suites are migrated using other processors. Test Cases must be migrated here.",
	  "WIQLQueryBit": "AND ( [System.AreaPath] UNDER 'MilyliProducts\\Blackout Backlog' OR [System.IterationPath] UNDER 'MilyliProducts\\Products\\Blackout')  AND [System.WorkItemType] IN ('Test Case', 'Test Plan', 'Feedback Request', 'Shared Parameter', 'Shared Steps')",
	  "__QueryTypeClause": " AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan', 'Shared Parameter', 'Shared Steps', 'Feedback Request')",
	  
	  
	  "__WIQLOrderBitExample1__": "Original order example.",
      "WIQLOrderBit": "[System.ChangedDate] desc",
	  
	  
      "LinkMigration": true,
      "AttachmentMigration": false,
      "AttachmentWorkingPath": "c:\\temp\\WorkItemAttachmentWorkingFolder\\",
      "FixHtmlAttachmentLinks": false,
      "SkipToFinalRevisedWorkItemType": false,
      "WorkItemCreateRetryLimit": 5,
      "FilterWorkItemsThatAlreadyExistInTarget": false,
      "PauseAfterEachWorkItem": false,
      "AttachmentMaxSize": 480000000,
      "AttachRevisionHistory": false,
      "LinkMigrationSaveEachAsAdded": false,
      "GenerateMigrationComment": false,
	  
	  "__OriginalNodeBasePaths__" : [ "Product\\Area\\Path1", "Product\\Area\\Path2" ],
	  "NodeBasePaths": [ "Blackout Backlog", "Products\\Blackout"],
	  
      "WorkItemIDs": null,
      "MaxRevisions": 0
    },
    {
      "$type": "TestVariablesMigrationConfig",
      "Enabled": true
    },
    {
      "$type": "TestConfigurationsMigrationConfig",
      "Enabled": true
    },
    {
      "$type": "TestPlansAndSuitesMigrationConfig",
      "Enabled": true,
	  "OnlyElementsWithTag": "vstsMigrate"
    }
  ],
  "Version": "11.11",
  "workaroundForQuerySOAPBugEnabled": false,
  "WorkItemTypeDefinition": {
    "sourceWorkItemTypeName": "targetWorkItemTypeName"
  },
  "Endpoints": {
    "InMemoryWorkItemEndpoints": [
      {
        "Name": "Source",
        "EndpointEnrichers": null
      },
      {
        "Name": "Target",
        "EndpointEnrichers": null
      }
    ]
  }
}
